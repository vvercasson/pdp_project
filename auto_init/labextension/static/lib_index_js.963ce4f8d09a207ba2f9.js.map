{"version":3,"file":"lib_index_js.963ce4f8d09a207ba2f9.js","mappings":"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","sources":["webpack://hide_code/./resources/hide.svg","webpack://hide_code/./resources/show.svg","webpack://hide_code/./src/index.ts"],"sourcesContent":["export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 640 512\\\"><!--!\\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\\n    <g xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jp-icon2\\\" fill=\\\"#424242\\\">\\n        <path\\n            d=\\\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!--!\\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\\n    <g xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jp-icon2\\\" fill=\\\"#424242\\\">\\n        <path\\n            d=\\\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\\\" />\\n    </g>\\n</svg>\";","import {\n    JupyterFrontEnd,\n    JupyterFrontEndPlugin\n} from '@jupyterlab/application';\n\nimport {\n    INotebookTracker,\n    NotebookPanel\n} from '@jupyterlab/notebook';\n\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { Cell, CodeCell } from \"@jupyterlab/cells\";\nimport { LabIcon } from \"@jupyterlab/ui-components\";\nimport { ToolbarButton } from \"@jupyterlab/apputils\";\n\nimport hide_code_svg from \"../resources/hide.svg\";\nimport show_code_svg from \"../resources/show.svg\";\n\nconst EXT: string = 'hide_code';\nconst CODE: string = 'code';\nconst SHOW_META = 'show_input';\n\nconst hide_code_icon = new LabIcon({\n    name: EXT + \":hide\",\n    svgstr: hide_code_svg\n});\n\nconst show_code_icon = new LabIcon({\n    name: EXT + \":show\",\n    svgstr: show_code_svg\n});\n\nfunction hideCodeCells(tracker: INotebookTracker, manager: VisibilityManager) {\n    const notebook: NotebookPanel | null = tracker.currentWidget;\n    if (notebook !== null) {\n        notebook.content.widgets.map((cell: Cell) => {\n            if (cell.model.type === CODE) {\n                const code = cell as CodeCell;\n                const metadata = code.model.metadata;\n\n                code.inputArea.hide();\n                metadata.set(SHOW_META, false);\n            }\n        });\n        manager.update(notebook, false);\n    }\n}\n\nfunction showCodeCells(tracker: INotebookTracker, manager: VisibilityManager) {\n    const notebook: NotebookPanel | null = tracker.currentWidget;\n    if (notebook !== null) {\n        notebook.content.widgets.map((cell: Cell) => {\n            if (cell.model.type === CODE) {\n                const code = cell as CodeCell;\n                const metadata = code.model.metadata;\n                \n                code.inputArea.show();\n                metadata.set(SHOW_META, true);\n            }\n        });\n        manager.update(notebook, true);\n    }\n}\n\nclass VisibilityManager {\n    private tracker: INotebookTracker;\n    private hide_button: ToolbarButton;\n    private show_button: ToolbarButton;\n    private states: Map<string, boolean>;\n\n    constructor(hide: ToolbarButton, show: ToolbarButton, tracker: INotebookTracker) {\n        this.hide_button = hide;\n        this.tracker = tracker;\n        this.show_button = show;\n        this.states = new Map<string, boolean>();\n    }\n\n    public init(notebook: NotebookPanel) {\n        let isVisible: boolean = true;\n        for (let cell of notebook.content.widgets) {\n            // console.log(cell.model.type)\n            if (cell.model.type === CODE) {\n                const code = cell as CodeCell;\n                const metadata = code.model.metadata;\n                isVisible = !metadata.has(SHOW_META) || metadata.get(SHOW_META) as boolean;\n                break;\n            }\n        }\n        this.update(notebook, isVisible);\n        if (!isVisible)\n            hideCodeCells(this.tracker, this);\n    }\n\n    public update(notebook: NotebookPanel, state: boolean) {\n        this.states.set(notebook.id, state);\n        this.onChange(notebook);\n    }\n\n    public initIfNecessary(notebook: NotebookPanel) {\n        if (!this.states.has(notebook.id)) {\n            // console.log(\"initializing hide_code\");\n            this.init(notebook);\n        }\n    }\n\n    public onChange(notebook: NotebookPanel | null) {\n        if (notebook !== null) {\n            const toolbar = notebook.toolbar;\n            toolbar.addItem('hide_code', this.hide_button);\n            toolbar.addItem('show_code', this.show_button);\n            if (this.states.get(notebook.id)) {\n                this.hide_button.show();\n                this.show_button.hide();\n            } else {\n                this.hide_button.hide();\n                this.show_button.show();\n            }\n        }\n    }\n}\n\n/**\n * Initialization data for the hide_code extension.\n */\nconst plugin: JupyterFrontEndPlugin<void> = {\n    id: 'hide_code:plugin',\n    autoStart: true,\n    requires: [INotebookTracker, IMainMenu],\n    activate: (app: JupyterFrontEnd, tracker: INotebookTracker, main_menu: IMainMenu) => {\n        // console.log('JupyterLab extension hide_code is activated!');\n\n        const hide_command: string = EXT + \":hide\";\n        const show_command: string = EXT + \":show\";\n        const hide_button = new ToolbarButton({\n            icon: hide_code_icon,\n            onClick: () => {\n                hideCodeCells(tracker, manager);\n            }\n        })\n        const show_button = new ToolbarButton({\n            icon: show_code_icon,\n            onClick: () => {\n                showCodeCells(tracker, manager);\n            }\n        })\n        const manager = new VisibilityManager(hide_button, show_button, tracker);\n\n        app.commands.addCommand(hide_command, {\n            label: 'Hide all code input',\n            execute: () => {\n                hideCodeCells(tracker, manager);\n            }\n        });\n\n        app.commands.addCommand(show_command, {\n            label: 'Show all code input',\n            execute: () => {\n                showCodeCells(tracker, manager);\n            }\n        });\n\n        tracker.currentChanged.connect((_, notebookPanel: NotebookPanel | null) => {\n            notebookPanel?.context.ready.then(async () => {\n                return notebookPanel?.context.sessionContext.ready;\n            }).then(() => {\n                manager.initIfNecessary(notebookPanel);\n            });\n            manager.onChange(notebookPanel);\n        });\n\n        main_menu.editMenu.addGroup([\n            { command: hide_command },\n            { command: show_command }\n        ], 10);\n    }\n};\n\nexport default plugin;\n"],"names":[],"sourceRoot":""}