"use strict";
(self["webpackChunkhide_code"] = self["webpackChunkhide_code"] || []).push([["lib_index_js"],{

/***/ "./resources/hide.svg":
/*!****************************!*\
  !*** ./resources/hide.svg ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--!\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\n    <g xmlns=\"http://www.w3.org/2000/svg\" class=\"jp-icon2\" fill=\"#424242\">\n        <path\n            d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\" />\n    </g>\n</svg>");

/***/ }),

/***/ "./resources/show.svg":
/*!****************************!*\
  !*** ./resources/show.svg ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><!--!\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\n    <g xmlns=\"http://www.w3.org/2000/svg\" class=\"jp-icon2\" fill=\"#424242\">\n        <path\n            d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\" />\n    </g>\n</svg>");

/***/ }),

/***/ "./lib/index.js":
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/mainmenu */ "webpack/sharing/consume/default/@jupyterlab/mainmenu");
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/ui-components */ "webpack/sharing/consume/default/@jupyterlab/ui-components");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _resources_hide_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../resources/hide.svg */ "./resources/hide.svg");
/* harmony import */ var _resources_show_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resources/show.svg */ "./resources/show.svg");






const EXT = 'hide_code';
const CODE = 'code';
const SHOW_META = 'show_input';
const hide_code_icon = new _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.LabIcon({
    name: EXT + ":hide",
    svgstr: _resources_hide_svg__WEBPACK_IMPORTED_MODULE_4__["default"]
});
const show_code_icon = new _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.LabIcon({
    name: EXT + ":show",
    svgstr: _resources_show_svg__WEBPACK_IMPORTED_MODULE_5__["default"]
});
function hideCodeCells(tracker, manager) {
    const notebook = tracker.currentWidget;
    if (notebook !== null) {
        notebook.content.widgets.map((cell) => {
            if (cell.model.type === CODE) {
                const code = cell;
                const metadata = code.model.metadata;
                code.inputArea.hide();
                metadata.set(SHOW_META, false);
            }
        });
        manager.update(notebook, false);
    }
}
function showCodeCells(tracker, manager) {
    const notebook = tracker.currentWidget;
    if (notebook !== null) {
        notebook.content.widgets.map((cell) => {
            if (cell.model.type === CODE) {
                const code = cell;
                const metadata = code.model.metadata;
                code.inputArea.show();
                metadata.set(SHOW_META, true);
            }
        });
        manager.update(notebook, true);
    }
}
class VisibilityManager {
    constructor(hide, show, tracker) {
        this.hide_button = hide;
        this.tracker = tracker;
        this.show_button = show;
        this.states = new Map();
    }
    init(notebook) {
        let isVisible = true;
        for (let cell of notebook.content.widgets) {
            // console.log(cell.model.type)
            if (cell.model.type === CODE) {
                const code = cell;
                const metadata = code.model.metadata;
                isVisible = !metadata.has(SHOW_META) || metadata.get(SHOW_META);
                break;
            }
        }
        this.update(notebook, isVisible);
        if (!isVisible)
            hideCodeCells(this.tracker, this);
    }
    update(notebook, state) {
        this.states.set(notebook.id, state);
        this.onChange(notebook);
    }
    initIfNecessary(notebook) {
        if (!this.states.has(notebook.id)) {
            // console.log("initializing hide_code");
            this.init(notebook);
        }
    }
    onChange(notebook) {
        if (notebook !== null) {
            const toolbar = notebook.toolbar;
            toolbar.addItem('hide_code', this.hide_button);
            toolbar.addItem('show_code', this.show_button);
            if (this.states.get(notebook.id)) {
                this.hide_button.show();
                this.show_button.hide();
            }
            else {
                this.hide_button.hide();
                this.show_button.show();
            }
        }
    }
}
/**
 * Initialization data for the hide_code extension.
 */
const plugin = {
    id: 'hide_code:plugin',
    autoStart: true,
    requires: [_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_0__.INotebookTracker, _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_1__.IMainMenu],
    activate: (app, tracker, main_menu) => {
        // console.log('JupyterLab extension hide_code is activated!');
        const hide_command = EXT + ":hide";
        const show_command = EXT + ":show";
        const hide_button = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__.ToolbarButton({
            icon: hide_code_icon,
            onClick: () => {
                hideCodeCells(tracker, manager);
            }
        });
        const show_button = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__.ToolbarButton({
            icon: show_code_icon,
            onClick: () => {
                showCodeCells(tracker, manager);
            }
        });
        const manager = new VisibilityManager(hide_button, show_button, tracker);
        app.commands.addCommand(hide_command, {
            label: 'Hide all code input',
            execute: () => {
                hideCodeCells(tracker, manager);
            }
        });
        app.commands.addCommand(show_command, {
            label: 'Show all code input',
            execute: () => {
                showCodeCells(tracker, manager);
            }
        });
        tracker.currentChanged.connect((_, notebookPanel) => {
            notebookPanel === null || notebookPanel === void 0 ? void 0 : notebookPanel.context.ready.then(async () => {
                return notebookPanel === null || notebookPanel === void 0 ? void 0 : notebookPanel.context.sessionContext.ready;
            }).then(() => {
                manager.initIfNecessary(notebookPanel);
            });
            manager.onChange(notebookPanel);
        });
        main_menu.editMenu.addGroup([
            { command: hide_command },
            { command: show_command }
        ], 10);
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (plugin);


/***/ })

}]);
//# sourceMappingURL=lib_index_js.963ce4f8d09a207ba2f9.js.map