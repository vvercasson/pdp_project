{"version":3,"file":"lib_index_js.7ce8d06628404d82a99c.js","mappings":";;;;;;;;;;;;;AAAA,iEAAe,ioCAAioC;;;;;;;;;;;;;;ACAhpC,iEAAe,47BAA47B;;;;;;;;;;;;;;;;;;;;;;;;ACAn5B;AACP;AACG;AACC;AACH;AACA;AAClD;AACA;AACA;AACA,2BAA2B,8DAAO;AAClC;AACA,YAAY,2DAAa;AACzB,CAAC;AACD,2BAA2B,8DAAO;AAClC;AACA,YAAY,2DAAa;AACzB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kEAAgB,EAAE,2DAAS;AAC1C;AACA;AACA;AACA;AACA,gCAAgC,+DAAa;AAC7C;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,+DAAa;AAC7C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA,cAAc,uBAAuB;AACrC,cAAc;AACd;AACA;AACA;AACA,iEAAe,MAAM,EAAC","sources":["webpack://hide_code/./resources/hide.svg","webpack://hide_code/./resources/show.svg","webpack://hide_code/./lib/index.js"],"sourcesContent":["export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 640 512\\\"><!--!\\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\\n    <g xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jp-icon2\\\" fill=\\\"#424242\\\">\\n        <path\\n            d=\\\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z\\\" />\\n    </g>\\n</svg>\";","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!--!\\n    Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License -\\n    https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\\n    <g xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jp-icon2\\\" fill=\\\"#424242\\\">\\n        <path\\n            d=\\\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\\\" />\\n    </g>\\n</svg>\";","import { INotebookTracker } from '@jupyterlab/notebook';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { LabIcon } from \"@jupyterlab/ui-components\";\nimport { ToolbarButton } from \"@jupyterlab/apputils\";\nimport hide_code_svg from \"../resources/hide.svg\";\nimport show_code_svg from \"../resources/show.svg\";\nconst EXT = 'hide_code';\nconst CODE = 'code';\nconst SHOW_META = 'show_input';\nconst hide_code_icon = new LabIcon({\n    name: EXT + \":hide\",\n    svgstr: hide_code_svg\n});\nconst show_code_icon = new LabIcon({\n    name: EXT + \":show\",\n    svgstr: show_code_svg\n});\nfunction hideCodeCells(tracker, manager) {\n    const notebook = tracker.currentWidget;\n    if (notebook !== null) {\n        notebook.content.widgets.map((cell) => {\n            if (cell.model.type === CODE) {\n                const code = cell;\n                const metadata = code.model.metadata;\n                code.inputArea.hide();\n                metadata.set(SHOW_META, false);\n            }\n        });\n        manager.update(notebook, false);\n    }\n}\nfunction showCodeCells(tracker, manager) {\n    const notebook = tracker.currentWidget;\n    if (notebook !== null) {\n        notebook.content.widgets.map((cell) => {\n            if (cell.model.type === CODE) {\n                const code = cell;\n                const metadata = code.model.metadata;\n                code.inputArea.show();\n                metadata.set(SHOW_META, true);\n            }\n        });\n        manager.update(notebook, true);\n    }\n}\nclass VisibilityManager {\n    constructor(hide, show /* , tracker: INotebookTracker */) {\n        this.hide_button = hide;\n        // this.tracker = tracker;\n        this.show_button = show;\n        this.states = new Map();\n    }\n    init(notebook) {\n        let state = true;\n        for (let cell of notebook.content.widgets) {\n            console.log(cell.model.type);\n            if (cell.model.type === CODE) {\n                const code = cell;\n                const metadata = code.model.metadata;\n                state = metadata.has(SHOW_META) && metadata.get(SHOW_META);\n                break;\n            }\n        }\n        this.states.set(notebook.id, state);\n        this.onChange(notebook);\n    }\n    update(notebook, state) {\n        this.states.set(notebook.id, state);\n        this.onChange(notebook);\n    }\n    initIfNecessary(notebook) {\n        if (!this.states.has(notebook.id)) {\n            console.log(\"initializing hide_code\");\n            this.init(notebook);\n        }\n    }\n    onChange(notebook) {\n        if (notebook !== null) {\n            const toolbar = notebook.toolbar;\n            toolbar.addItem('hide_code', this.hide_button);\n            toolbar.addItem('show_code', this.show_button);\n            if (this.states.get(notebook.id)) {\n                this.hide_button.show();\n                this.show_button.hide();\n            }\n            else {\n                this.hide_button.hide();\n                this.show_button.show();\n            }\n        }\n    }\n}\n/**\n * Initialization data for the hide_code extension.\n */\nconst plugin = {\n    id: 'hide_code:plugin',\n    autoStart: true,\n    requires: [INotebookTracker, IMainMenu],\n    activate: (app, tracker, main_menu) => {\n        console.log('JupyterLab extension hide_code is activated!');\n        const hide_command = EXT + \":hide\";\n        const show_command = EXT + \":show\";\n        const hide_button = new ToolbarButton({\n            icon: hide_code_icon,\n            onClick: () => {\n                hideCodeCells(tracker, manager);\n            }\n        });\n        const show_button = new ToolbarButton({\n            icon: show_code_icon,\n            onClick: () => {\n                showCodeCells(tracker, manager);\n            }\n        });\n        const manager = new VisibilityManager(hide_button, show_button /* , tracker */);\n        app.commands.addCommand(hide_command, {\n            label: 'Hide all code input',\n            execute: () => {\n                hideCodeCells(tracker, manager);\n            }\n        });\n        app.commands.addCommand(show_command, {\n            label: 'Show all code input',\n            execute: () => {\n                showCodeCells(tracker, manager);\n            }\n        });\n        tracker.currentChanged.connect((_, notebookPanel) => {\n            notebookPanel === null || notebookPanel === void 0 ? void 0 : notebookPanel.context.ready.then(async () => {\n                return notebookPanel === null || notebookPanel === void 0 ? void 0 : notebookPanel.context.sessionContext.ready;\n            }).then(() => {\n                manager.initIfNecessary(notebookPanel);\n            });\n            manager.onChange(notebookPanel);\n        });\n        main_menu.editMenu.addGroup([\n            { command: hide_command },\n            { command: show_command }\n        ], 10);\n    }\n};\nexport default plugin;\n"],"names":[],"sourceRoot":""}